# =============================================
# DEVELOPMENT OVERRIDES (Sobrescreve application.yml)
# =============================================

# CORS - Específico de dev
cors:
  allowed-origins: http://localhost:4200

spring:
  # Database - Conexão local
  datasource:
    url: jdbc:postgresql://localhost:5432/app_auth_server
    username: postgres
    password: 123456
  
  # JPA - Overrides para dev
  jpa:
    show-sql: true  # Mostra SQL em dev
    properties:
      hibernate:
        use_sql_comments: true  # SQL comentado
  
  # Flyway - Validação extra em dev
  flyway:
    validate-on-migrate: true

# JWT - Chave fixa para dev (facilita testes)
auth:
  jwt:
    secret-key: dev-secret-key-only-for-local-development-minimum-32-characters-required
    issuer: http://localhost:8080
    expiration-ms: 7200000  # 2 horas em dev

# Logging - Debug em dev
logging:
  level:
    com.mssousa.auth: DEBUG
    org.springframework.security: DEBUG
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE
    io.jsonwebtoken: DEBUG

# Server - Detalhes de erro em dev
server:
  error:
    include-message: always
    include-binding-errors: always
    include-stacktrace: on_param
    include-exception: true

# Actuator - Detalhes completos em dev
management:
  endpoint:
    health:
      show-details: always

# Email Configuration
spring:
  mail:
    host: ${SMTP_HOST:smtp.gmail.com}
    port: ${SMTP_PORT:587}
    username: ${SMTP_USERNAME}
    password: ${SMTP_PASSWORD}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true

# Custom Email Properties
auth:
  email:
    sender: ${EMAIL_SENDER:noreply@mssousa.com}
